(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{35883:function(){},26854:function(){},94616:function(){},5534:function(e,t,n){Promise.resolve().then(n.bind(n,64404)),Promise.resolve().then(n.bind(n,27640)),Promise.resolve().then(n.bind(n,90239)),Promise.resolve().then(n.t.bind(n,84080,23)),Promise.resolve().then(n.t.bind(n,64671,23)),Promise.resolve().then(n.t.bind(n,53054,23)),Promise.resolve().then(n.bind(n,61405))},35316:function(e,t,n){"use strict";n.d(t,{f:function(){return r}}),n(74590);var r=(0,n(58064).$)("00cda9806c5832fc61df705a0b39a6aee95c80b5")},61405:function(e,t,n){"use strict";n.d(t,{Providers:function(){return I}});var r=n(57437),s=n(2265),o=n(16463),i=n(51503),a=n(24234),c=n(58421),u=n(93191),l=n(79839),d=n(86623),f=n(8358),p=n(26393),E=n(27776);n(74590);var _=(0,n(58064).$)("ea3bd041fe321e9f5a1b0659a51cd8fe521903d5"),h=n(65843),m=n(5722),v=n(83981),x=n(38378),N=n(44323),g=n(36349);function I(e){let{children:t,token:n,user:I,twitterUser:C}=e,P=(0,o.useRouter)(),[T]=(0,s.useState)(()=>new c.S({defaultOptions:{queries:{refetchOnMount:!0,staleTime:0},mutations:{onError:e=>{if(e instanceof d.d7){var t,n;console.error(null===(t=e.response)||void 0===t?void 0:t.data),m.A.danger((null===(n=e.response)||void 0===n?void 0:n.data.message)||"An unexpected error occurred. Please try again later.")}}}}}));return(0,s.useLayoutEffect)(()=>{n?x.o.defaults.headers.common.Authorization="Bearer ".concat(n):delete x.o.defaults.headers.common.Authorization},[n]),(0,o.useSearchParams)().get("ref"),(0,r.jsx)(a.EI,{settings:{environmentId:v.O.NEXT_PUBLIC_DYNAMIC_ENVIRONMENT_ID,walletConnectors:[i.Eh],events:{onLogout:async e=>{await _(),P.push("/")}}},children:(0,r.jsxs)(u.aH,{client:T,children:[(0,r.jsx)(f.cY,{children:(0,r.jsx)(g.d,{user:I,twitterUser:C,token:n,children:(0,r.jsx)(N.w,{children:(0,r.jsx)(h.ko,{className:"top-pwa fixed inset-x-0 top-0 z-[999] h-0.5 bg-brand-orange",children:(0,r.jsx)(p.y,{baseColor:"#3B3B3B",highlightColor:"#4B4B4B",children:t})})})})}),(0,r.jsx)(E.x7,{position:"top-center",richColors:!0,className:"flex flex-col items-center"}),(0,r.jsx)(l.t,{initialIsOpen:!1})]})})}},65843:function(e,t,n){"use strict";n.d(t,{_z:function(){return _},ko:function(){return E}});var r=n(48646),s=n(57437),o=n(2265),i=n(87138),a=n(16463),c=n(24846),u=n(34446),l=n(20160),d=n(26391);function f(){let e=(0,r._)(["","%"]);return f=function(){return e},e}let p=(0,o.createContext)(null);function E(e){let{className:t,children:n}=e,r=function(){let[e,t]=(0,o.useState)("initial"),n=(0,d.q)(0,{damping:25,mass:.5,stiffness:300,restDelta:.1});return function(e,t){let n=(0,o.useRef)(e);(0,o.useEffect)(()=>{n.current=e},[e]),(0,o.useEffect)(()=>{function e(){n.current()}if(null!==t){e();let n=setInterval(e,t);return()=>clearInterval(n)}},[t])}(()=>{let e;100===n.get()&&n.jump(0);let t=n.get();e=0===t?15:t<50?h(1,10):h(1,5),n.set(Math.min(t+e,99))},"in-progress"===e?750:null),(0,o.useEffect)(()=>("initial"===e?n.jump(0):"completing"===e&&n.set(100),n.on("change",e=>{100===e&&t("complete")})),[n,e]),{state:e,value:n,start:function(){t("in-progress")},done:function(){t(e=>"initial"===e||"in-progress"===e?"completing":e)},reset:function(){t("initial")}}}(),i=(0,c.Y)(f(),r.value);return(0,s.jsxs)(p.Provider,{value:r,children:[(0,s.jsx)(u.M,{onExitComplete:r.reset,children:"complete"!==r.state&&(0,s.jsx)(l.E.div,{style:{width:i},exit:{opacity:0},className:t})}),n]})}function _(e){let{href:t,children:n,onClick:r,replace:c,...u}=e,l=function(){let e=(0,o.useContext)(p);if(null===e)throw Error("Need to be inside provider");return e}(),d=(0,a.useRouter)();return(0,s.jsx)(i.default,{href:t,onClick:e=>{e.preventDefault(),l.start(),(0,o.startTransition)(()=>{c?d.replace(t.toString()):d.push(t.toString()),l.done()}),null==r||r(e)},...u,children:n})}function h(e,t){return Math.floor(Math.random()*(t-e+1))+e}},5722:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(57437),s=n(27776),o=n(23685);let i={green:e=>s.Am.custom(()=>(0,r.jsxs)("div",{className:"relative top-[env(safe-area-inset-top)] flex items-center gap-[10px] rounded-lg border border-[#6FB672] bg-[#52A655] px-4 py-3",children:[(0,r.jsx)(o.yy,{className:"h-4 w-4 fill-[#EDEDED]"}),(0,r.jsx)("span",{className:"text-xs leading-5 text-[#F4F4F4]",children:e})]})),red:e=>s.Am.custom(()=>(0,r.jsxs)("div",{className:"relative top-[env(safe-area-inset-top)] flex items-center gap-[10px] rounded-lg border border-[#BE5D5D] bg-[#D14848] px-4 py-3",children:[(0,r.jsx)(o.yy,{className:"h-4 w-4 fill-[#EDEDED]"}),(0,r.jsx)("span",{className:"text-xs leading-5 text-[#F4F4F4]",children:e})]})),neutral:e=>s.Am.custom(()=>(0,r.jsxs)("div",{className:"relative top-[env(safe-area-inset-top)] flex items-center gap-[10px] rounded-lg border border-[#5F5F5F] bg-[#515151] px-4 py-3",children:[(0,r.jsx)(o.yy,{className:"h-4 w-4 fill-[#EDEDED]"}),(0,r.jsx)("span",{className:"text-xs leading-5 text-[#F4F4F4]",children:e})]})),danger:e=>s.Am.custom(()=>(0,r.jsxs)("div",{className:"relative top-[env(safe-area-inset-top)] flex items-center gap-[10px] rounded-lg border border-[#BE5D5D] bg-[#D14848] px-4 py-3",children:[(0,r.jsx)(o.eV,{className:"h-4 w-4 text-[#EDEDED]"}),(0,r.jsx)("span",{className:"text-xs leading-5 text-[#F4F4F4]",children:e})]}))}},83981:function(e,t,n){"use strict";n.d(t,{O:function(){return c}});var r,s,o,i,a=n(20357);let c={NEXT_PUBLIC_API_URL:"https://api.starsarena.com",NEXT_PUBLIC_MAINNET_RPC_URL:"https://api.avax.network/ext/bc/C/rpc",NEXT_PUBLIC_SOCKET_URL:"https://api.starsarena.com",NEXT_PUBLIC_APP_DOMAIN:"https://arena.social",NEXT_PUBLIC_HTTP_BASIC_AUTH:"v2viewer:2%YEy5AvGoYSu9w1",NEXT_PUBLIC_FIREBASE_VAPID_KEY:"BPXVuVMbs-Gwj8w2JNzjz0l8zkYoXdyuTeHQp0VFhCC3D2HR6fA73kkW6zMkYdRiDg31IZF6wN8No-aiOfseXus",NEXT_PUBLIC_AVAX_CHAINID:null!==(r=a.env.NEXT_PUBLIC_AVAX_CHAINID)&&void 0!==r?r:43114,NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID:null!==(s=a.env.NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID)&&void 0!==s?s:"e80b2f49716ba2901d09ba0745983ce4",NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY:null!==(o=a.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY)&&void 0!==o?o:"pk_live_51PJSikJD7G42nY3U5Yk0q30TseH7V99GFKJIf72bdsJEPiEBtgUqrLU7ifTOqyUjnhzP2ivMEv7ReNz7zdQyjQaE00Dh4sTVBv",NEXT_PUBLIC_DYNAMIC_ENVIRONMENT_ID:"0f187ac0-6ac1-49ec-85b1-dc811006cde0",NEXT_COINGECKO_API:null!==(i=a.env.NEXT_COINGECKO_API)&&void 0!==i?i:"https://api.coingecko.com/api/v3/simple/price?ids=avalanche-2,coq-inu,gursonavax,avax-has-no-chill,sausagers-meat,kimbo,joe,tech,solana,bonk,dogwifcoin,a-gently-used-2001-honda,moutai,harambe-2&vs_currencies=usd"}},11858:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});let r={PUSH_NOTIFICATION:"push-notification",CHAT_MESSAGE:"chat-message",CHAT_MESSAGE_GROUP:"chat-message-group",CHAT_TYPING:"chat-typing",LEAVE_GROUP:"leave-group",ACCEPT_GROUP:"accept-group"}},38378:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var r=n(38472),s=n(83981);let o=r.default.create({baseURL:s.O.NEXT_PUBLIC_API_URL})},80892:function(e,t,n){"use strict";n.d(t,{H1:function(){return r}});let r="/home"},44323:function(e,t,n){"use strict";n.d(t,{s:function(){return d},w:function(){return f}});var r=n(57437),s=n(2265),o=n(93191),i=n(34999),a=n(83981),c=n(11858),u=n(36349);let l=(0,s.createContext)({socket:null,setSeen:()=>{}});function d(){return(0,s.useContext)(l)}function f(e){let{children:t}=e,n=(0,o.NL)(),{token:d,user:f}=(0,u.a)(),[p,E]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=(0,i.ZP)(a.O.NEXT_PUBLIC_SOCKET_URL,{auth:{token:d},forceNew:!0,transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:10,upgrade:!0});return e.on("error",e=>{console.error("Socket error: ",e)}),e.on("connect",()=>{console.log("Socket connected"),E(e)}),e.on("disconnect",()=>{console.log("Socket disconnected"),E(null)}),e.connect(),f&&d&&(null==e||e.emit("subscribe","user-".concat(f.id))),function(){e.disconnect()}},[d,f]),(0,s.useEffect)(()=>{p&&p.on(c.I.PUSH_NOTIFICATION,()=>{n.setQueryData(["notifications","unseen"],e=>{if(e)return{...e,count:e.count+1}}),n.invalidateQueries({queryKey:["notifications"]})})},[n,p]),(0,r.jsx)(l.Provider,{value:{socket:p,setSeen:function(e,t){null==p||p.emit("set-conv-seen",{groupId:e,date:t})}},children:t})}},36349:function(e,t,n){"use strict";n.d(t,{a:function(){return l},d:function(){return f}});var r=n(57437),s=n(2265),o=n(16463),i=n(24234),a=n(35316),c=n(80892);let u=(0,s.createContext)({user:null,twitterUser:null,token:null});function l(){return(0,s.useContext)(u)}let d=async(e,t,n)=>{try{await (0,a.f)({token:e,ref:n})&&(window.location.href=c.H1)}catch(e){console.error("error",e),t.push("/?error=Something went wrong!")}};function f(e){let{children:t,user:n,twitterUser:a,token:c}=e,{handleLogOut:l}=(0,i.SX)(),f=(0,i.nu)(),p=(0,o.useRouter)();(0,s.useEffect)(()=>{let e=localStorage.getItem("dynamic_auth_expires_at");if(e){let t=1e3*Number(e);Date.now()>=t&&l()}},[l]);let E=(0,o.useSearchParams)().get("ref");return(0,s.useEffect)(()=>{(async()=>{if(!c&&f){let e=(0,i.bW)();e&&await d(e,p,E)}})()},[f,E,p,c]),(0,r.jsx)(u.Provider,{value:{user:n,twitterUser:a,token:c},children:t})}},53054:function(){}},function(e){e.O(0,[4093,1473,9299,1336,4327,5397,231,7776,1503,4999,2257,6456,3685,2971,7023,1744],function(){return e(e.s=5534)}),_N_E=e.O()}]);